<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset = "UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<!-- <link rel="stylesheet" href="./style.css" /> -->
		<title>morph trial 1</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			@media screen and (max-width: 800px) {
  			#eyelid {
    			width: 200%;
  				}
  			#stars {
    			width: 200%;
  				}
			}

			section {
				width: 100%;
				height: 100%;
				background: rgb(0,0,0);
			}

			#eyelid {
				display: flex;
				flex-direction: safe column;
				justify-content: safe center;
			}

			svg {
				cursor: pointer;
			}

			body {
				font-family: sans-serif;
			}

			.star1{
				animation: star1 37s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star2{
				animation: star2 34s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star3{
				animation: star3 40s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star4{
				animation: star4 43s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star5{
				animation: star5 32s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star6{
				animation: star6 28s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star7{
				animation: star7 50s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.star8{
				animation: star8 48s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.rectangle{
				animation: rectangle 3s ease-in-out infinite alternate;
				transform-origin: center;
			}

			#big{
				animation: big 1.5s ease-in-out infinite alternate;
				transform-origin: center;
			}

			#small{
				animation: small 6s ease-in-out infinite alternate;
				transform-origin: center;
			}

			.polymorph{
				animation: polymorph 5s infinite;
				transform-origin: center;
				transform-box: fill-box;
			}

			@keyframes star1{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(20deg)
				}

			}

			@keyframes star2{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(-20deg)
				}

			}

			@keyframes star3{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(18deg)
				}

			}

			@keyframes star4{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(-33deg)
				}

			}

			@keyframes star5{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(14deg)
				}

			}

			@keyframes star6{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(-19deg)
				}

			}

			@keyframes star7{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(25deg)
				}

			}

			@keyframes star8{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(-37deg)
				}

			}

			@keyframes rectangle{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(20deg)
				}
			}

			@keyframes big{
				from{
					transform: rotateX(0deg)
				}
				to{
					transform: rotateX(30deg)
				}
			}

			@keyframes small{
				from{
					transform: rotateZ(0deg)
				}
				to{
					transform: rotateZ(50deg)
				}
			}

			@keyframes polymorph{
				from{
					transform: rotateZ(0deg);
				}
				to{
					transform: rotateZ(360deg);
				}
			}

		</style>
	</head>

	<body>
		<section>
			<svg id="stars" width="1700" height="600" viewBox="0 0 500 700" fill="none" style="transform: scale(1.6) translate(-220px, 160px)">
				<g transform="translate(20,20)"><path class ="star1" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(140,250)"><path class="star2" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(300,5)"><path class="star3" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(50,300)"><path class="star4" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(450,60)"><path class="star5" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(500,300)"><path class="star6" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(520,270)"><path class="star7" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>

				<g transform="translate(570,60)"><path class="star8" d="M14.2682 0L13.755 16.9091L4.72185 7L13.2417 17.2727L0 18.3636L13.2417 18.0909L8.72517 25.1818L13.755 18.3636L14.2682 32L14.9868 18.3636L20.3245 25.1818L15.346 17.8182L31 17.2727H15.8079L22.4801 7L14.9868 17.2727L14.2682 0Z" fill="white"/></g>
			</svg>

			<svg id="eyelid" width="1700" height="500" viewBox="0 0 130 800" fill="none" style="transform: scale(2) translate(-250px, -100px)" xmlns="http://www.w3.org/2000/svg">

				<g transform="translate(-1,15)"><path class = "eye" d="M1 99.9998C190.6 -80.0002 378 24.9998 448 99.9998C379 160 200 259 1 99.9998Z" fill="white"/></g>

				<g transform="translate(310,200)"><path class = "eyeball" d="M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10Z" fill="#8B9F0F"/></g>

				<g transform="translate(350,180)"><path class = "eyeball2" d="M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10Z" fill="#db8ced"/></g>

				<g transform="translate(296,210)"><path id = "planetRings1" d="M12.5 0.5C-33 0.5 76.5 10.1905 33.5 1.99999C54.5 5.99999 -7.99999 1.99999 12.5 0.5Z" stroke="#93269C"/></g>

				<g transform="translate(175,60)
								scale(0.4 0.4)">

					<path id = "big" class="rectangle" d="M1 1H139V238H1V1Z" stroke="none" stroke-width="7" fill="none"/>

					<path id = "medium" class="rectangle" d="M1 172L1 1H96L96 172H1Z" stroke="none" stroke-width="7" fill="none"/>

					<path id = "small" class="rectangle" d="M1 123L1 1H62L62 123H1Z" stroke="none" stroke-width="7" fill="none"/>

				</g>

				<path class = "eye-motion" d="M0 115.387C200 -100 377 40.3873 447 115.387C378 175.387 199 274.388 0 115.387Z" fill="#93269C"/>

	      		<g transform="translate(180,25) scale (0.2 0.2)"><path class = "polymorph" d="M44 71.5C18.1789 106.507 -4.00002 114 1.99998 216C7.99998 318 130.5 343.5 221.5 330C302.031 318.053 384 216 367.5 147C350.484 75.842 337.5 33.5 256 9.00003C191.358 -10.4323 96 1 44 71.5Z" fill="none" stroke="none" stroke-width="5"/></g>
	      	</svg>


		</section>

		<script src="anime.min.js"></script>
		<script src="zepto.js"></script>
		<script src="app.min.js"></script>
		<script>
			const planet = "M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10Z"
			const iris = "M188 94C188 145.915 145.915 188 94 188C42.0852 188 0 145.915 0 94C0 42.0852 42.0852 0 94 0C145.915 0 188 42.0852 188 94Z"



			const awake = "M0 115.387C200 -99.9999 377 40.3874 447 115.387C353 50 223 -68 0 115.387Z"
			const asleep = "M0 115.387C200 -100 377 40.3873 447 115.387C378 175.387 199 274.388 0 115.387Z"

			const eyeball = document.querySelector(".eyeball");
			const eyeball2 = document.querySelector(".eyeball2");
			const polymorph = document.querySelector(".polymorph");
			const polymorph2 = document.querySelector(".polymorph2");
			let toggle = false;

			eyeball.addEventListener("click", () => {
				//we need to use anime.js
				const timeline = anime.timeline({
					duration : 750,
					easing : "easeOutExpo"
				});
				//add different animations to the timeline
				timeline
					//planet becomes a bigger circle
					.add({
						targets: ".eyeball",
						d: [{value: toggle ? planet : iris}],
						//can add a comma and another morph if you want
					})
					//iris goes on a rotating path to the eye
					.add({
						targets: ".eyeball",
						rotate: toggle ? 0 : 180,
					}, "-=700"
					)
					//iris changes color
					.add(
					{
						targets: ".eyeball",
						fill: toggle ? "#8B9F0F" : "#FAEB89",
					}, "-=500"
					)
					//eye opens
					.add({
			 			targets: ".eye-motion",
			 			d: [{value: toggle ? asleep : awake}]
			 		}, "-=500"
			 		)
			 		//background changes color
			 		.add({
			 			targets: "section",
			 			backgroundColor: toggle ? "#000000" : "#8B9F0F"
			 		}, "-=700"
			 		)
			 		//make animation appear
			 		.add({
			 			targets: ".rectangle",
			 			stroke: toggle ? "none" : "#8B9F0F"
			 		}, "-=700"
			 		)
			 		//make planet rings disappear
			 		.add({
			 			targets: "#planetRings1",
			 			stroke: toggle ? "#93269C" : "none"
			 		}, "-=700"
			 		)
			 		//make other planets disappear
			 		.add({
			 			targets: ".eyeball2",
			 			fill: toggle ? "#db8ced" : "none"
			 		}, "-=700"
			 		)
			 		;

			 		toggle = !toggle;
			});

			let toggle2 = false;

			eyeball2.addEventListener("click",() => {
				const timeline2 = anime.timeline({
					duration : 750,
					easing : "easeOutExpo"
				});
				timeline2
					//planet becomes a bigger circle
					.add({
						targets: ".eyeball2",
						d: [{value: toggle2 ? planet : iris}],
						//can add a comma and another morph if you want
					})
					//iris goes on a rotating path to the eye
					.add({
						targets: ".eyeball2",
						rotate: toggle2 ? 0 : 170,
					}, "-=700"
					)
					//iris changes color
					.add(
					{
						targets: ".eyeball2",
						fill: toggle2 ? "#db8ced" : "#1d2069",
					}, "-=500"
					)
					//eye opens
					.add({
			 			targets: ".eye-motion",
			 			d: [{value: toggle2 ? asleep : awake}]
			 		}, "-=500"
			 		)
			 		//background changes color
					.add({
						targets: "section",
						backgroundColor: toggle2 ? "#000000" : "#db8ced"
					}, "-=700"
					)
					//make other planets disappear
			 		.add({
			 			targets: ".eyeball",
			 			fill: toggle2 ? "#8B9F0F" : "none"
			 		}, "-=700"
			 		)
			 		.add({
			 			targets: "#planetRings1",
			 			stroke: toggle2 ? "#93269C" : "none"
			 		}, "-=700"
			 		)
			 		//make animation appear
			 		.add({
			 			targets: ".polymorph",
			 			fill: toggle2 ? "none" : "#db8ced"
			 		}, "-=625"
			 		);

					toggle2 =!toggle2;
			});

			var stretchingPolymorph = anime({
				targets: ".polymorph",
				d: [
					{value: "M34 75C12.3408 106.478 -3.99998 127 2.00002 229C9.76473 361 184.907 359.702 228.5 319C326.5 227.5 337.5 196 322.5 121.5C308.059 49.7752 223 1 166 1C98.5 1 71.5 20.5 34 75Z"},
					{value: "M0.999969 72.5C1 118.5 53 124 59 226C65 328 173 306.958 216.5 284C288.5 246 303.5 185 288.5 110.5C274.059 38.7752 177 0.5 120 0.5C52.5 0.500002 0.999926 6.3449 0.999969 72.5Z"},
					{value: "M27.5 96.5C27.5 140 -3.99999 154.5 2.00001 256.5C8.00001 358.5 214 347.958 257.5 325C329.5 287 336.5 197.5 284.5 153C228.912 105.429 250 66 209 19.5001C164.359 -31.1299 27.5 28.6141 27.5 96.5Z"},
					{value: "M3.49999 50.5C-14.0507 90.3023 66.5 115 72.5 217C78.5 319 212.5 312.458 256 289.5C328 251.5 324.5 144 272.5 99.5C216.912 51.9294 200.5 83.4999 159.5 37C114.859 -13.63 31.5 -13 3.49999 50.5Z"},
					{value: "M47.5 88.5C29.9494 128.302 -4 151 2 253C8 355 185.5 362 272 325C346.852 292.982 414.5 133 362.5 88.5C306.912 40.9294 274.5 67 233.5 20.5C188.859 -30.1299 75.5001 25 47.5 88.5Z"}
				],
				easing: 'easeInOutQuad',
				duration: 5000,
				loop: true,
				direction: 'alternate'
			});


		</script>
	</body>
